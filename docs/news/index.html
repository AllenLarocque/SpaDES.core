<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Changelog • SpaDES.core</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Changelog" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-58633549-6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-58633549-6');
</script>

  </head>

  <body>
    <div class="container template-news">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">SpaDES.core</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.2.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/i-introduction.html">01 Introduction to `SpaDES`</a>
    </li>
    <li>
      <a href="../articles/ii-modules.html">02 Building modules in `SpaDES`</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/PredictiveEcology/SpaDES.core">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1>Changelog <small></small></h1>
      <small>Source: <a href='https://github.com/PredictiveEcology/SpaDES.core/blob/master/NEWS.md'><code>NEWS.md</code></a></small>
    </div>

    <div id="version-0-2-2" class="section level1">
<h1 class="page-header">
<a href="#version-0-2-2" class="anchor"></a>version 0.2.2<small> Unreleased </small>
</h1>
<div id="package-dependencies" class="section level2">
<h2 class="hasAnchor">
<a href="#package-dependencies" class="anchor"></a>package dependencies</h2>
<ul>
<li>remove <code>sp</code> from imports</li>
</ul>
</div>
<div id="new-features" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features" class="anchor"></a>new features</h2>
<ul>
<li>TEMP</li>
</ul>
</div>
<div id="bugfixes" class="section level2">
<h2 class="hasAnchor">
<a href="#bugfixes" class="anchor"></a>bugfixes</h2>
<ul>
<li>fix issues with failing tests on macOS</li>
</ul>
</div>
</div>
    <div id="version-0-2-1" class="section level1">
<h1 class="page-header">
<a href="#version-0-2-1" class="anchor"></a>version 0.2.1<small> 2018-08-09 </small>
</h1>
<div id="package-dependencies-1" class="section level2">
<h2 class="hasAnchor">
<a href="#package-dependencies-1" class="anchor"></a>package dependencies</h2>
<ul>
<li>requires new version of <code>reproducible</code> (&gt;=0.2.2)</li>
</ul>
</div>
<div id="new-features-1" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-1" class="anchor"></a>new features</h2>
<ul>
<li>new option <code>spades.useRequire</code>: a logical which causes <code>simInit</code> to load packages with <code>Require</code> or <code>require</code>. Lower case is generally faster, but will not handle the case of uninstalled packages, so should only be used once all packages are installed.</li>
<li><ul>
<li><ul>
<li>new option <code>spades.keepCompleted</code>: a logical which causes <code><a href="../reference/spades.html">spades()</a></code> to keep (<code>TRUE</code>) or not keep a record of completed events. Keeping track of completed events when they are many (&gt;1e5) gets slow enough that it may be worth turning it off.</li>
</ul></li>
</ul></li>
<li>more robust and faster tests are used now, care of helper functions in <code>tests</code>
</li>
<li>
<code>all.equal.simList</code> now removes all time dependent attributes, <em>e.g.</em>, <code>._startClockTime</code> and <code>.timestamp</code>
</li>
<li>speed enhancements for Discrete Event Simulator; now overhead is 1.3 seconds for 5000 events or, per event, 260 microseconds (185 microseconds if <code>options("spades.keepCompleted" = FALSE)</code>
</li>
</ul>
</div>
<div id="bugfixes-1" class="section level2">
<h2 class="hasAnchor">
<a href="#bugfixes-1" class="anchor"></a>bugfixes</h2>
<ul>
<li>
<p>Improvements to caching of functions with <code>simList</code> objects:</p>
<ul>
<li>Cached functions with a <code>simList</code> in the arguments would erroneously return cached copies of functions. These now are copied through from argument <code>simList</code>, rather than cached <code>simList</code>. This means that changes to the function definitions in a module will persist (e.g., debugging via <code>browser()</code> will work correctly)</li>
<li>functions with <code>simList</code> in arguments that return a <code>simList</code> will now do a post digest of the output. This will be compared with the predigest, and only those object which changed in the <code>simList</code> will be modified.</li>
<li>caching of <code>.inputObjects</code> function was incorrect. Fixed.</li>
</ul>
</li>
</ul>
</div>
</div>
    <div id="version-0-2-0" class="section level1">
<h1 class="page-header">
<a href="#version-0-2-0" class="anchor"></a>version 0.2.0<small> 2018-07-10 </small>
</h1>
<div id="new-features-2" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-2" class="anchor"></a>new features</h2>
<ul>
<li>module metadata now in <em>named</em> lists inside <code><a href="../reference/simList-accessors-modules.html">depends(sim)</a></code>
</li>
<li>new debugging – if debug is not <code>FALSE</code>, then any error will trigger a <code>browser()</code> call inside the event function. User can continue (<code>c</code>) or quit (<code>Q</code>) as per normal. <code>c</code> will trigger a reparse and events will continue as scheduled.</li>
<li>
<p>introduction of code checking for modules, currently turned on or off by an option <code>spades.moduleCodeChecks</code>, which is <code>TRUE</code> by default. Code checking includes various types:</p>
<ul>
<li>use <code>codetools</code> to check for various code problems</li>
<li>detects conflicts with known common functions (<code>raster::level</code>, <code><a href="http://www.rdocumentation.org/packages/raster/topics/scale">raster::scale</a></code>, <code><a href="http://quickplot.predictiveecology.org//reference/Plot.html">quickPlot::Plot</a></code>)</li>
<li>use <code>checkCodeEnv</code> on every function inside a module</li>
<li>checking for <code><a href="../reference/objects.html">sim$xxx</a></code> occurrences in modules, comparing to <code>outputObjects</code> in metadata if used in assignment (i.e., left hand side of assign operator), or comparing to <code>inputObjects</code> if used on the right hand side</li>
<li>check that all objects declared in <code>inputObjects</code> have default values assigned in the <code>.inputObjects</code> function</li>
<li>messages colour coded, and separated by file with absolute path explicit</li>
</ul>
</li>
<li>option <code>spades.debug</code> set to <code>TRUE</code> by default, instead of <code>FALSE</code>. This is better for new users.</li>
<li>
<code>moduleMetadata</code> argument order changed, so <code>sim</code> is first, more consistent with all other <code>simList</code> accessors.</li>
<li>
<code>downloadData</code> has changed dramatically, now it is a wrapper around <code><a href="http://reproducible.predictiveecology.org/reference/prepInputs.html">reproducible::prepInputs</a></code> which does more checking.</li>
<li>
<code>extractURL</code> will extract the sourceURL from metadata, given an object name.</li>
<li>
<code>makeMemoiseable</code> and <code>unmakeMemoisable</code>, new methods, each the inverse of the other, to deal with imperfect memoised returns under some cases of <code>simList</code>.</li>
<li><p>new option, <code>spades.keepCompleted</code>, <code>TRUE</code> by default, which can be useful for dramatically speeding up the DES when there are many (&gt;10,000) events.</p></li>
</ul>
</div>
<div id="deprecated-defunct-and-removed-features" class="section level2">
<h2 class="hasAnchor">
<a href="#deprecated-defunct-and-removed-features" class="anchor"></a>deprecated, defunct, and removed features</h2>
<ul>
<li>remove <code>fileExt</code> – use <code><a href="http://www.rdocumentation.org/packages/tools/topics/fileutils">tools::file_ext</a></code> instead</li>
</ul>
</div>
<div id="bug-fixes" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes" class="anchor"></a>bug fixes</h2>
<ul>
<li>fix tests based on <code>data.table</code> changes (<a href='http://github.com/mattdowle'>@mattdowle</a>, <a href='https://github.com/PredictiveEcology/SpaDES.core/issues/64'>#64</a>).</li>
<li>re-export <code>start</code> and <code>end</code>.</li>
<li>
<code>newModule</code> template modified slightly based on workshop feedback.</li>
<li>
<code>setPaths</code> now only sets the directories that are passed into it.</li>
<li>
<code>all.equal.simList</code> method strips a small number of attributes that are used internally that create false failures.</li>
<li>speed enhancements.</li>
<li>other minor bug fixes.</li>
</ul>
</div>
<div id="package-dependency-changes" class="section level2">
<h2 class="hasAnchor">
<a href="#package-dependency-changes" class="anchor"></a>package dependency changes</h2>
<ul>
<li>add package imports <code>tools</code>, <code>pryr</code>.</li>
<li>removed package imports <code>rgeos</code>, <code>RCurl</code> and <code>googledrive</code>.</li>
</ul>
</div>
</div>
    <div id="version-0-1-1" class="section level1">
<h1 class="page-header">
<a href="#version-0-1-1" class="anchor"></a>version 0.1.1<small> 2018-01-29 </small>
</h1>
<ul>
<li>uses <code><a href="http://reproducible.predictiveecology.org/reference/Require.html">reproducible::Require</a></code> instead of <code><a href="../reference/loadPackages.html">SpaDES.core::loadPackages</a></code> to load required packages. Currently, does not use version control for packages, but does use installing (from CRAN or GitHub), and loading (via require). This means a module can indicate a github package, e.g,. <code>achubaty/amc<a href='http://github.com/development'>@development</a></code>
</li>
<li>
<p>environments in modules are now as follows:</p>
<ul>
<li>Functions defined in a module are sourced into an environment located here: <code>sim@.envir$&lt;moduleName&gt;</code>, and it is a is a child of <code>sim@.envir</code>. Functions can be found in this environment, but prefixing functions is not necessary, because modules functions are within this environment already.</li>
<li>
<code>sim@.envir</code> is a child of <code>SpaDES.core</code>
</li>
</ul>
</li>
<li>
<p>scoping from within a function that is defined in a module is thus:</p>
<ul>
<li>
<code>sim@.envir$&lt;moduleName&gt;</code> –&gt; <code>sim@.envir</code> –&gt; <code>SpaDES.core</code> –&gt; all imported packages including <code>base</code> –&gt; <code>.GlobalEnv</code> –&gt; <code>search()</code>
</li>
</ul>
</li>
<li>
<p>speed improvements:</p>
<ul>
<li>the core DES is now built around lists, rather than <code>data.table</code> objects. For small objects (e.g., the eventQueue) that have fewer than 200 objects, lists are faster. Accessors (e.g., <code><a href="../reference/simList-accessors-events.html">events(sim)</a></code>, <code><a href="../reference/simList-accessors-events.html">completed(sim)</a></code>) of the event queues still show <code>data.table</code> objects, but these are made on the fly.</li>
<li>
<code>.parseModule</code> and <code>.parseModuePartial</code> now put their parsed content into a temporary environment (<code>sim@.envir$.parsedFiles$&lt;Full Filename&gt;)</code> during the <code>simInit</code>, which gets re-used. Previously, files were parsed multiple times in a given <code>simInit</code> call. Several functions now have <code>envir</code> argument to pass this through (including <code>moduleVersion</code>, <code>packages</code>, <code>checkParams</code>)</li>
</ul>
</li>
<li>parsing of modules is now more intelligent, allowing for modules to contain functions (the current norm) and but they can also create objects at the module level. These can use the sim object in their definition. These objects can, for example, be used to help define parameters, for example, e.g., <code>startSimPlus1 &lt;- start(sim) + 1</code> can be defined in the module and used in <code>defineModule</code>
</li>
<li>remove <code>grDevices</code> from Imports as it was not used (<a href='https://github.com/PredictiveEcology/SpaDES.core/issues/1'>#1</a>)</li>
<li>remove <code>chron</code> and <code>CircStats</code> dependencies</li>
<li>remove functions <code>dwrpnorm2</code> and move to package <code>SpaDES.tools</code>
</li>
<li>remove unused function <code>F()</code> due to conflicts with <code>F</code>/<code>FALSE</code>.</li>
<li>improved download of module data: added new <code>quickCheck</code> argument</li>
<li>improved download of modules: use fuzzy matching</li>
<li>new option: <code>spades.switchPkgNamespaces</code> which allows the user to turn off the <code>SpaDES</code> feature that loads and unloads libraries specific to each module. While useful, it slows down computations, in some cases, by a lot.</li>
<li>
<p>bug fixes:</p>
<ul>
<li>in <code>zipModule</code> that omitted the checksum file from being included when <code>data = FALSE</code> (<a href='https://github.com/PredictiveEcology/SpaDES.core/issues/3'>#3</a>)</li>
<li>caching of <code>.inputObjects</code> functions was evaluating outputObjects instead of inputObjects. Now corrected.</li>
</ul>
</li>
<li>If <code>.inputObjects</code> contains arguments other than just sim, these will be evaluated as function inputs by the Cache mechanism (via .useCache), therefore correctly assessing when those inputs changed, e.g., if they are files and the arg is wrapped in <code>asPath</code>, then any change to the underlying file will cause a re-cache. e.g., <code>.inputObjects &lt;- function(sim, importantFile = asPath(file.path(inputPath(sim), "theFile.rdata"))) { ... }</code>
</li>
<li>default <code>debug</code> option in <code><a href="../reference/spades.html">spades()</a></code> now uses the package option <code>spades.debug</code> and default is set to <code>FALSE</code> (<a href='https://github.com/PredictiveEcology/SpaDES.core/issues/5'>#5</a>)</li>
<li>various other speed improvements and bug fixes</li>
<li>convert <code>P</code> to a function, rather than S4 generic and method, for speed.</li>
<li>importFrom only used functions from <code>utils</code> due to name conflicts with <code><a href="http://www.rdocumentation.org/packages/raster/topics/stack">raster::stack</a></code> and <code><a href="http://www.rdocumentation.org/packages/utils/topics/stack">utils::stack</a></code>
</li>
<li>new function <code>remoteFileSize</code> to check the size of remote files</li>
<li>new namespaced function <code>dataPath</code> will return <code>file.path(modulePath(sim), currentModule(sim), "data")</code>, which will return a different path, depending on which module it is placed inside.</li>
<li>add crayon to imports – now messages are more colour coded</li>
<li><p>bug fix in ‘inputs’ for the case of loading objects from the global environment, either from the same object to the same object, or from different global objects overwriting on the same simList object</p></li>
</ul>
</div>
    <div id="version-0-1-0" class="section level1">
<h1 class="page-header">
<a href="#version-0-1-0" class="anchor"></a>version 0.1.0<small> 2017-08-30 </small>
</h1>
<ul>
<li>
<p>A new package, which takes all core DES functionality out of the <code>SpaDES</code> package:</p>
<ul>
<li>see <code><a href="../reference/SpaDES.core-package.html">?SpaDES.core</a></code> for an overview</li>
</ul>
</li>
<li><p>various speed improvements and bug fixes</p></li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div id="tocnav">
      <h2>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
        <li><a href="#version-0-2-2">0.2.2</a></li>
        <li><a href="#version-0-2-1">0.2.1</a></li>
        <li><a href="#version-0-2-0">0.2.0</a></li>
        <li><a href="#version-0-1-1">0.1.1</a></li>
        <li><a href="#version-0-1-0">0.1.0</a></li>
      </ul>
    </div>
  </div>

</div>

      <footer>
      <div class="copyright">
  <p>Developed by Alex M Chubaty, Eliot J B McIntire.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

