<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Inputs and outputs — inputs • SpaDES.core</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Inputs and outputs — inputs" />

<meta property="og:description" content="These functions are one of three mechanisms to add the information about which
input files to load in a spades call and the information about which
output files to save. 1) As arguments to a simInit call. Specifically, inputs
or outputs. See ?simInit. 2) With the inputs(simList) or outputs(simList)
function call.
3) By adding a function called .inputObjects inside a module, which will be executed
during the simInit call. This last way is the most &quot;modular&quot; way to create
default data sets for your model. See below for more details." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-58633549-6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-58633549-6');
</script>

  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">SpaDES.core</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/i-introduction.html">01 Introduction to `SpaDES`</a>
    </li>
    <li>
      <a href="../articles/ii-modules.html">02 Building modules in `SpaDES`</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/PredictiveEcology/SpaDES.core">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Inputs and outputs</h1>
    <small class="dont-index">Source: <a href='https://github.com/PredictiveEcology/SpaDES.core/blob/master/R/simList-accessors.R'><code>R/simList-accessors.R</code></a></small>
    <div class="hidden name"><code>simList-accessors-inout.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>These functions are one of three mechanisms to add the information about which
input files to load in a <code>spades</code> call and the information about which
output files to save. 1) As arguments to a <code>simInit</code> call. Specifically, <code>inputs</code>
or <code>outputs</code>. See <code><a href='simInit.html'>?simInit</a></code>. 2) With the <code>inputs(simList)</code> or <code>outputs(simList)</code>
function call.
3) By adding a function called <code>.inputObjects</code> inside a module, which will be executed
during the <code>simInit</code> call. This last way is the most "modular" way to create
default data sets for your model. See below for more details.</p>
    
    </div>

    <pre class="usage"><span class='fu'>inputs</span>(<span class='no'>sim</span>)

<span class='co'># S4 method for .simList</span>
<span class='fu'>inputs</span>(<span class='no'>sim</span>)

<span class='fu'>inputs</span>(<span class='no'>sim</span>) <span class='kw'>&lt;-</span> <span class='no'>value</span>

<span class='co'># S4 method for .simList</span>
<span class='fu'>inputs</span>(<span class='no'>sim</span>) <span class='kw'>&lt;-</span> <span class='no'>value</span>

<span class='fu'>outputs</span>(<span class='no'>sim</span>)

<span class='co'># S4 method for .simList</span>
<span class='fu'>outputs</span>(<span class='no'>sim</span>)

<span class='fu'>outputs</span>(<span class='no'>sim</span>) <span class='kw'>&lt;-</span> <span class='no'>value</span>

<span class='co'># S4 method for .simList</span>
<span class='fu'>outputs</span>(<span class='no'>sim</span>) <span class='kw'>&lt;-</span> <span class='no'>value</span>

<span class='fu'>inputArgs</span>(<span class='no'>sim</span>)

<span class='co'># S4 method for .simList</span>
<span class='fu'>inputArgs</span>(<span class='no'>sim</span>)

<span class='fu'>inputArgs</span>(<span class='no'>sim</span>) <span class='kw'>&lt;-</span> <span class='no'>value</span>

<span class='co'># S4 method for .simList</span>
<span class='fu'>inputArgs</span>(<span class='no'>sim</span>) <span class='kw'>&lt;-</span> <span class='no'>value</span>

<span class='fu'>outputArgs</span>(<span class='no'>sim</span>)

<span class='co'># S4 method for .simList</span>
<span class='fu'>outputArgs</span>(<span class='no'>sim</span>)

<span class='fu'>outputArgs</span>(<span class='no'>sim</span>) <span class='kw'>&lt;-</span> <span class='no'>value</span>

<span class='co'># S4 method for .simList</span>
<span class='fu'>outputArgs</span>(<span class='no'>sim</span>) <span class='kw'>&lt;-</span> <span class='no'>value</span></pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>sim</th>
      <td><p>A <code>simList</code> object from which to extract element(s) or
in which to replace element(s).</p></td>
    </tr>
    <tr>
      <th>value</th>
      <td><p>The object to be stored at the slot. See Details.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Returns or sets the value(s) of the <code>input</code> or <code>output</code> slots
in the <code>simList</code> object.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Accessor functions for the <code>inputs</code> and <code>outputs</code> slots in a
<code>simList</code> object.</p>
    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>The automatic file type handling only adds the correct extension from a given
<code>fun</code> and <code>package</code>. It does not do the inverse, from a given extension find the
correct <code>fun</code> and <code>package</code>.</p>
    
    <h2 class="hasAnchor" id="inputs-function-or-argument-in-siminit"><a class="anchor" href="#inputs-function-or-argument-in-siminit"></a>inputs function or argument in <code>simInit</code></h2>

    
    <p><code>inputs</code> accepts a data.frame, with up to 7 columns.
Columns are:</p>
<table class='table'>
<tr><td><code>file</code></td><td>required, a character string indicating the file path. There is no
default.</td></tr>
<tr><td><code>objectName</code></td><td>optional, character string indicating the name of the object
that the loaded file will be assigned to in the <code>simList</code>. This object
can therefore be accessed with <code><a href='objects.html'>sim$xxx</a></code> in any module, where
<code>objectName = "xxx"</code>. Defaults to the filename without file extension or
directory information.</td></tr>
<tr><td><code>fun</code></td><td>optional, a character string indicating the function to use to
load that file. Defaults to the known extensions in <code>SpaDES</code> (found by
examining <code><a href='loadFiles.html'>.fileExtensions()</a></code>). The <code>package</code> and <code>fun</code> can be
jointly specified here as <code>"packageName::functionName"</code>, e.g.,
<code>"raster::raster"</code>.</td></tr>
<tr><td><code>package</code></td><td>optional character string indicating the package in
which to find the <code>fun</code>);</td></tr>
<tr><td><code>loadTime</code></td><td>optional numeric, indicating when in simulation time the file
should be loaded. The default is the highest priority at <code><a href='simList-accessors-times.html'>start(sim)</a></code>,
i.e., at the very start.</td></tr>
<tr><td><code>interval</code></td><td>optional numeric, indicating at what interval should this same
exact file  be reloaded from disk, e.g,. 10 would mean every 10 time units. The
default is NA or no interval, i.e, load the file only once as described in
<code>loadTime</code></td></tr>
<tr><td><code>arguments</code></td><td>is a list of lists of named arguments, one list for each
<code>fun</code>. For example, if <code>fun="raster"</code>, <code>arguments = list(native = TRUE)</code>
will pass the argument "native = TRUE" to raster.  If there is only one list,
then it is assumed to apply to all files and will be recycled as per normal R
rules of recycling for each <code>fun</code>.</td></tr>
<tr><td></td><td><code>file</code></td></tr>
</table>
    <p>Currently, only <code>file</code> is required. All others will be filled with defaults
if not specified.</p>
<p>See the modules vignette for more details (<code>browseVignettes("SpaDES.core")</code>).</p>
    
    <h2 class="hasAnchor" id="-inputobjects-function-placed-inside-module"><a class="anchor" href="#-inputobjects-function-placed-inside-module"></a><code>.inputObjects</code> function placed inside module</h2>

    
    <p>Any code placed inside a function called <code>.inputObjects</code> will be run during
the simInit for the purpose of creating
any objects required by this module, i.e., objects  identified in the <code>inputObjects</code>
element of <code>defineModule</code>.
This is useful if there is something required before simulation to produce the module
object dependencies, including such things as downloading default datasets, e.g.,
<code><a href='downloadData.html'>downloadData('LCC2005', modulePath(sim))</a></code>.
Nothing should be created here that does not create an named object in inputObjects.
Any other initiation procedures should be put in the "init" eventType of the doEvent function.
Note: the module developer can use 'sim$.userSuppliedObjNames' inside the function to
selectively skip unnecessary steps because the user has provided those inputObjects in the
simInit call. e.g., the following code would look to see if the user had passed <code>defaultColor</code>
into during <code>simInit</code>. If the user had done this, then this function would not override
that value with 'red'. If the user has not passed in a value for <code>defaultColor</code>, then
the module will get it here:</p>
<p><code>if (!('defaultColor' %in% sim$.userSuppliedObjNames)) {
 sim$defaultColor &lt;- 'red'
}</code></p>
    
    <h2 class="hasAnchor" id="outputs-function-or-argument-in-siminit"><a class="anchor" href="#outputs-function-or-argument-in-siminit"></a>outputs function or argument in <code>simInit</code></h2>

    
    <p><code>outputs</code> accepts a data.frame similar to the <code>inputs</code> data.frame, but
with up to 6 columns.</p>
<table class='table'>
<tr><td><code>objectName</code></td><td>required, character string indicating the name of the object
in the <code>simList</code> that will be saved to disk (without the <code>sim$</code> prefix).</td></tr>
<tr><td><code>file</code></td><td>optional, a character string indicating the file path to save to.
The default is to concatenate <code>objectName</code> with the model timeunit and
<code>saveTime</code>, separated by underscore, "_". So a default filename would be
"Fires_year1.rds"</td></tr>
<tr><td><code>fun</code></td><td>optional, a character string indicating the function to use to
save that file. The default is <code>saveRDS</code></td></tr>
<tr><td><code>package</code></td><td>optional character string indicating the package in
which to find the <code>fun</code>);</td></tr>
<tr><td><code>saveTime</code></td><td>optional numeric, indicating when in simulation time the file
should be saved. The default is the lowest priority at <code><a href='simList-accessors-times.html'>end(sim)</a></code>,
i.e., at the very end.</td></tr>
<tr><td><code>arguments</code></td><td>is a list of lists of named arguments, one list for each
<code>fun</code>. For example, if <code>fun = "write.csv"</code>,
<code>arguments = list(row.names = TRUE)</code> will pass the argument
<code>row.names = TRUE</code> to <code>write.csv</code>  If there is only one list,
then it is assumed to apply to all files and will be recycled as per normal R
rules of recycling for each <code>fun</code>.</td></tr>
<tr><td></td><td><code>objectName</code></td></tr>
</table>
    <p>See the modules vignette for more details (<code>browseVignettes("SpaDES.core")</code>).</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='SpaDES.core-package.html'>SpaDES.core-package</a></code>, specifically the section 1.2.2 on loading and saving.</p>
<p>Other functions to access elements of a <code>simList</code> object: <code><a href='addDepends.html'>.addDepends</a></code>,
  <code><a href='checkpoint.html'>doEvent.checkpoint</a></code>, <code><a href='simList-accessors-envir.html'>envir</a></code>,
  <code><a href='simList-accessors-events.html'>events</a></code>, <code><a href='globals.html'>globals</a></code>,
  <code><a href='ls-method.html'>ls.simList</a></code>, <code><a href='ls_str-method.html'>ls.str.simList</a></code>,
  <code><a href='simList-accessors-modules.html'>modules</a></code>, <code><a href='objects.html'>objs</a></code>,
  <code><a href='packages.html'>packages</a></code>, <code><a href='params.html'>params</a></code>,
  <code><a href='simList-accessors-paths.html'>paths</a></code>, <code><a href='progress.html'>progressInterval</a></code>,
  <code><a href='simList-accessors-times.html'>times</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>#######################</span>
<span class='co'># inputs</span>
<span class='co'>#######################</span>

<span class='co'># Start with a basic empty simList</span>
<span class='no'>sim</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='simInit.html'>simInit</a></span>()

<span class='no'>test</span> <span class='kw'>&lt;-</span> <span class='fl'>1</span>:<span class='fl'>10</span>
<span class='fu'>library</span>(<span class='no'>igraph</span>) <span class='co'># for %&gt;%</span>
<span class='fu'>library</span>(<span class='no'>reproducible</span>) <span class='co'># for checkPath</span>
<span class='no'>tmpdir</span> <span class='kw'>&lt;-</span> <span class='fu'>file.path</span>(<span class='fu'>tempdir</span>(), <span class='st'>"inputs"</span>) <span class='kw'>%&gt;%</span> <span class='fu'><a href='http://reproducible.predictiveecology.org/reference/checkPath.html'>checkPath</a></span>(<span class='kw'>create</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='no'>tmpFile</span> <span class='kw'>&lt;-</span> <span class='fu'>file.path</span>(<span class='no'>tmpdir</span>, <span class='st'>"test.rds"</span>)
<span class='fu'>saveRDS</span>(<span class='no'>test</span>, <span class='kw'>file</span> <span class='kw'>=</span> <span class='no'>tmpFile</span>)
<span class='fu'>inputs</span>(<span class='no'>sim</span>) <span class='kw'>&lt;-</span> <span class='fu'>data.frame</span>(<span class='kw'>file</span> <span class='kw'>=</span> <span class='no'>tmpFile</span>) <span class='co'># using only required column, "file"</span>
<span class='fu'>inputs</span>(<span class='no'>sim</span>) <span class='co'># see that it is not yet loaded, but when it is scheduled to be loaded</span></div><div class='output co'>#&gt;                              file     fun package objectName loadTime loaded
#&gt; 1 /tmp/RtmpIHNNlP/inputs/test.rds readRDS    base       test        0     NA
#&gt;   arguments intervals
#&gt; 1        NA        NA</div><div class='input'><span class='no'>simOut</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='spades.html'>spades</a></span>(<span class='no'>sim</span>)</div><div class='output co'>#&gt; This is the current event, printed as it is happening:
#&gt; eventTime moduleName eventType eventPriority
#&gt; 0         load       inputs    1            </div><div class='output co'>#&gt; <span class='message'>test read from /tmp/RtmpIHNNlP/inputs/test.rds using readRDS</span></div><div class='output co'>#&gt; 0         checkpoint init      5            
#&gt; 0         save       init      5            
#&gt; 0         progress   init      5            
#&gt; 0         load       init      5            </div><div class='input'><span class='fu'>inputs</span>(<span class='no'>simOut</span>) <span class='co'># confirm it was loaded</span></div><div class='output co'>#&gt;                              file     fun package objectName loadTime loaded
#&gt; 1 /tmp/RtmpIHNNlP/inputs/test.rds readRDS    base       test        0   TRUE
#&gt;   arguments intervals
#&gt; 1        NA        NA</div><div class='input'><span class='no'>simOut</span>$<span class='no'>test</span></div><div class='output co'>#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</div><div class='input'>
<span class='co'># can put data.frame for inputs directly inside simInit call</span>
<span class='no'>allTifs</span> <span class='kw'>&lt;-</span> <span class='fu'>dir</span>(<span class='fu'>system.file</span>(<span class='st'>"maps"</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"quickPlot"</span>),
               <span class='kw'>full.names</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>pattern</span> <span class='kw'>=</span> <span class='st'>"tif"</span>)

<span class='co'># next: .objectNames are taken from the filenames (without the extension)</span>
<span class='co'># This will load all 5 tifs in the SpaDES sample directory, using</span>
<span class='co'>#   the raster fuction in the raster package, all at time = 0</span>
<span class='kw'>if</span> (<span class='fu'>require</span>(<span class='st'>"rgdal"</span>, <span class='kw'>quietly</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)) {
  <span class='no'>sim</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='simInit.html'>simInit</a></span>(
    <span class='kw'>inputs</span> <span class='kw'>=</span> <span class='fu'>data.frame</span>(
      <span class='kw'>files</span> <span class='kw'>=</span> <span class='no'>allTifs</span>,
      <span class='kw'>functions</span> <span class='kw'>=</span> <span class='st'>"raster"</span>,
      <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"raster"</span>,
      <span class='kw'>loadTime</span> <span class='kw'>=</span> <span class='fl'>0</span>,
      <span class='kw'>stringsAsFactors</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)
    )

  <span class='co'>##############################</span>
  <span class='co'>#A fully described inputs object, including arguments:</span>
  <span class='no'>files</span> <span class='kw'>&lt;-</span> <span class='fu'>dir</span>(<span class='fu'>system.file</span>(<span class='st'>"maps"</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"quickPlot"</span>),
               <span class='kw'>full.names</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>pattern</span> <span class='kw'>=</span> <span class='st'>"tif"</span>)
  <span class='co'># arguments must be a list of lists. This may require I() to keep it as a list</span>
  <span class='co'>#   once it gets coerced into the data.frame.</span>
  <span class='no'>arguments</span> <span class='kw'>=</span> <span class='fu'>I</span>(<span class='fu'>rep</span>(<span class='fu'>list</span>(<span class='kw'>native</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>), <span class='fu'>length</span>(<span class='no'>files</span>)))
  <span class='no'>filelist</span> <span class='kw'>=</span> <span class='fu'>data.frame</span>(
     <span class='kw'>objectName</span> <span class='kw'>=</span> <span class='fu'>paste0</span>(<span class='st'>"Maps"</span>, <span class='fl'>1</span>:<span class='fl'>5</span>),
     <span class='kw'>files</span> <span class='kw'>=</span> <span class='no'>files</span>,
     <span class='kw'>functions</span> <span class='kw'>=</span> <span class='st'>"raster::raster"</span>,
     <span class='kw'>arguments</span> <span class='kw'>=</span> <span class='no'>arguments</span>,
     <span class='kw'>loadTime</span> <span class='kw'>=</span> <span class='fl'>0</span>,
     <span class='kw'>intervals</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fu'>rep</span>(<span class='fl'>NA</span>, <span class='fu'>length</span>(<span class='no'>files</span>) - <span class='fl'>1</span>), <span class='fl'>10</span>)
  )
  <span class='fu'>inputs</span>(<span class='no'>sim</span>) <span class='kw'>&lt;-</span> <span class='no'>filelist</span>
  <span class='fu'><a href='spades.html'>spades</a></span>(<span class='no'>sim</span>)
}</div><div class='output co'>#&gt; <span class='message'>rgdal: version: 1.3-3, (SVN revision 759)</span>
#&gt; <span class='message'> Geospatial Data Abstraction Library extensions to R successfully loaded</span>
#&gt; <span class='message'> Loaded GDAL runtime: GDAL 2.2.3, released 2017/11/20</span>
#&gt; <span class='message'> Path to GDAL shared files: /usr/share/gdal/2.2</span>
#&gt; <span class='message'> GDAL binary built with GEOS: TRUE </span>
#&gt; <span class='message'> Loaded PROJ.4 runtime: Rel. 4.9.3, 15 August 2016, [PJ_VERSION: 493]</span>
#&gt; <span class='message'> Path to PROJ.4 shared files: (autodetected)</span>
#&gt; <span class='message'> Linking to sp version: 1.3-1 </span></div><div class='output co'>#&gt; <span class='message'>DEM read from /usr/local/lib/R/site-library/quickPlot/maps/DEM.tif using raster(inMemory=FALSE)</span></div><div class='output co'>#&gt; <span class='message'>forestAge read from /usr/local/lib/R/site-library/quickPlot/maps/forestAge.tif using raster(inMemory=FALSE)</span></div><div class='output co'>#&gt; <span class='message'>forestCover read from /usr/local/lib/R/site-library/quickPlot/maps/forestCover.tif using raster(inMemory=FALSE)</span></div><div class='output co'>#&gt; <span class='message'>habitatQuality read from /usr/local/lib/R/site-library/quickPlot/maps/habitatQuality.tif using raster(inMemory=FALSE)</span></div><div class='output co'>#&gt; <span class='message'>percentPine read from /usr/local/lib/R/site-library/quickPlot/maps/percentPine.tif using raster(inMemory=FALSE)</span></div><div class='output co'>#&gt; This is the current event, printed as it is happening:
#&gt; eventTime moduleName eventType eventPriority
#&gt; 0         load       inputs    1            </div><div class='output co'>#&gt; <span class='message'>Maps1 read from /usr/local/lib/R/site-library/quickPlot/maps/DEM.tif using raster(inMemory=FALSE)</span></div><div class='output co'>#&gt; <span class='message'>Maps2 read from /usr/local/lib/R/site-library/quickPlot/maps/forestAge.tif using raster(inMemory=FALSE)</span></div><div class='output co'>#&gt; <span class='message'>Maps3 read from /usr/local/lib/R/site-library/quickPlot/maps/forestCover.tif using raster(inMemory=FALSE)</span></div><div class='output co'>#&gt; <span class='message'>Maps4 read from /usr/local/lib/R/site-library/quickPlot/maps/habitatQuality.tif using raster(inMemory=FALSE)</span></div><div class='output co'>#&gt; <span class='message'>Maps5 read from /usr/local/lib/R/site-library/quickPlot/maps/percentPine.tif using raster(inMemory=FALSE)</span></div><div class='output co'>#&gt; 0         checkpoint init      5            
#&gt; 0         save       init      5            
#&gt; 0         progress   init      5            
#&gt; 0         load       init      5            
#&gt; 10        load       inputs    1            </div><div class='output co'>#&gt; <span class='message'>Maps5 read from /usr/local/lib/R/site-library/quickPlot/maps/percentPine.tif using raster(inMemory=FALSE)</span>
#&gt; <span class='message'>  at time 10</span></div><div class='input'>
  <span class='co'># Example showing loading multiple objects from global environment onto the</span>
  <span class='co'>#   same object in the simList, but at different load times</span>
  <span class='no'>a1</span> <span class='kw'>&lt;-</span> <span class='fl'>1</span>
  <span class='no'>a2</span> <span class='kw'>&lt;-</span> <span class='fl'>2</span>
  <span class='co'># Note arguments must be a list of NROW(inputs), with each element itself being a list,</span>
  <span class='co'>#  which is passed to do.call(fun[x], arguments[[x]]), where x is row number, one at a time</span>
  <span class='no'>args</span> <span class='kw'>&lt;-</span> <span class='fu'>lapply</span>(<span class='fl'>1</span>:<span class='fl'>2</span>, <span class='kw'>function</span>(<span class='no'>x</span>) {
                 <span class='fu'>list</span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='fu'>paste0</span>(<span class='st'>"a"</span>, <span class='no'>x</span>),
                      <span class='kw'>envir</span> <span class='kw'>=</span> <span class='fu'>environment</span>()) <span class='co'># may be necessary to specify in which envir a1, a2</span>
                                             <span class='co'># are located, if not in an interactive sessino</span>
                 })
  <span class='no'>inputs</span> <span class='kw'>&lt;-</span> <span class='fu'>data.frame</span>(<span class='kw'>objectName</span> <span class='kw'>=</span> <span class='st'>"a"</span>, <span class='kw'>loadTime</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fl'>2</span>, <span class='kw'>fun</span> <span class='kw'>=</span> <span class='st'>"base::get"</span>, <span class='kw'>arguments</span> <span class='kw'>=</span> <span class='fu'>I</span>(<span class='no'>args</span>))
  <span class='no'>a</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='simInit.html'>simInit</a></span>(<span class='kw'>inputs</span> <span class='kw'>=</span> <span class='no'>inputs</span>, <span class='kw'>times</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='kw'>start</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>end</span> <span class='kw'>=</span> <span class='fl'>1</span>))
  <span class='no'>a</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='spades.html'>spades</a></span>(<span class='no'>a</span>)</div><div class='output co'>#&gt; This is the current event, printed as it is happening:
#&gt; eventTime moduleName eventType eventPriority
#&gt; 0         checkpoint init      5            
#&gt; 0         save       init      5            
#&gt; 0         progress   init      5            
#&gt; 0         load       init      5            
#&gt; 1         load       inputs    1            </div><div class='output co'>#&gt; <span class='message'>a loaded into simList</span></div><div class='input'>  <span class='fu'>identical</span>(<span class='no'>a1</span>, <span class='no'>a</span>$<span class='no'>a</span>)</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'>
  <span class='fu'><a href='simList-accessors-times.html'>end</a></span>(<span class='no'>a</span>) <span class='kw'>&lt;-</span> <span class='fl'>3</span>
  <span class='no'>a</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='spades.html'>spades</a></span>(<span class='no'>a</span>) <span class='co'># different object (a2) loaded onto a$a</span></div><div class='output co'>#&gt; This is the current event, printed as it is happening:
#&gt; eventTime moduleName eventType eventPriority
#&gt; 2         load       inputs    1            </div><div class='output co'>#&gt; <span class='message'>a loaded into simList</span></div><div class='input'>  <span class='fu'>identical</span>(<span class='no'>a2</span>, <span class='no'>a</span>$<span class='no'>a</span>)</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'>
<span class='co'># Clean up after</span>
<span class='fu'>unlink</span>(<span class='no'>tmpdir</span>, <span class='kw'>recursive</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='co'>#######################</span>
<span class='co'># outputs</span>
<span class='co'>#######################</span>

<span class='fu'>library</span>(<span class='no'>igraph</span>) <span class='co'># for %&gt;%</span>
<span class='no'>tmpdir</span> <span class='kw'>&lt;-</span> <span class='fu'>file.path</span>(<span class='fu'>tempdir</span>(), <span class='st'>"outputs"</span>) <span class='kw'>%&gt;%</span> <span class='fu'><a href='http://reproducible.predictiveecology.org/reference/checkPath.html'>checkPath</a></span>(<span class='kw'>create</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='no'>tmpFile</span> <span class='kw'>&lt;-</span> <span class='fu'>file.path</span>(<span class='no'>tmpdir</span>, <span class='st'>"temp.rds"</span>)
<span class='no'>tempObj</span> <span class='kw'>&lt;-</span> <span class='fl'>1</span>:<span class='fl'>10</span>

<span class='co'># Can add data.frame of outputs directly into simInit call</span>
<span class='no'>sim</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='simInit.html'>simInit</a></span>(<span class='kw'>objects</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"tempObj"</span>),
               <span class='kw'>outputs</span> <span class='kw'>=</span> <span class='fu'>data.frame</span>(<span class='kw'>objectName</span> <span class='kw'>=</span> <span class='st'>"tempObj"</span>),
               <span class='kw'>paths</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='kw'>outputPath</span> <span class='kw'>=</span> <span class='no'>tmpdir</span>))
<span class='fu'>outputs</span>(<span class='no'>sim</span>) <span class='co'># To see what will be saved, when, what filename</span></div><div class='output co'>#&gt;   objectName                                       file     fun package
#&gt; 1    tempObj /tmp/RtmpIHNNlP/outputs/tempObj_year10.rds saveRDS    base
#&gt;   saveTime saved arguments
#&gt; 1       10    NA        NA</div><div class='input'><span class='no'>sim</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='spades.html'>spades</a></span>(<span class='no'>sim</span>)</div><div class='output co'>#&gt; This is the current event, printed as it is happening:
#&gt; eventTime moduleName eventType eventPriority
#&gt; 0         checkpoint init      5            
#&gt; 0         save       init      5            
#&gt; 0         progress   init      5            
#&gt; 0         load       init      5            
#&gt; 10        save       spades    10           </div><div class='input'><span class='fu'>outputs</span>(<span class='no'>sim</span>) <span class='co'># To see that it was saved, when, what filename</span></div><div class='output co'>#&gt;   objectName                                       file     fun package
#&gt; 1    tempObj /tmp/RtmpIHNNlP/outputs/tempObj_year10.rds saveRDS    base
#&gt;   saveTime saved arguments
#&gt; 1       10  TRUE        NA</div><div class='input'>
<span class='co'># Also can add using assignment after a simList object has been made</span>
<span class='no'>sim</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='simInit.html'>simInit</a></span>(<span class='kw'>objects</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"tempObj"</span>), <span class='kw'>paths</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='kw'>outputPath</span> <span class='kw'>=</span> <span class='no'>tmpdir</span>))
<span class='fu'>outputs</span>(<span class='no'>sim</span>) <span class='kw'>&lt;-</span> <span class='fu'>data.frame</span>(<span class='kw'>objectName</span> <span class='kw'>=</span> <span class='st'>"tempObj"</span>, <span class='kw'>saveTime</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fl'>10</span>)
<span class='no'>sim</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='spades.html'>spades</a></span>(<span class='no'>sim</span>)</div><div class='output co'>#&gt; This is the current event, printed as it is happening:
#&gt; eventTime moduleName eventType eventPriority
#&gt; 0         checkpoint init      5            
#&gt; 0         save       init      5            
#&gt; 0         progress   init      5            
#&gt; 0         load       init      5            
#&gt; 1         save       spades    10           
#&gt; 2         save       later     10           
#&gt; 3         save       later     10           
#&gt; 4         save       later     10           
#&gt; 5         save       later     10           
#&gt; 6         save       later     10           
#&gt; 7         save       later     10           
#&gt; 8         save       later     10           
#&gt; 9         save       later     10           
#&gt; 10        save       later     10           </div><div class='input'><span class='fu'>outputs</span>(<span class='no'>sim</span>) <span class='co'># To see that it was saved, when, what filename.</span></div><div class='output co'>#&gt;    objectName saveTime                                       file     fun
#&gt; 1     tempObj        1 /tmp/RtmpIHNNlP/outputs/tempObj_year01.rds saveRDS
#&gt; 2     tempObj        2 /tmp/RtmpIHNNlP/outputs/tempObj_year02.rds saveRDS
#&gt; 3     tempObj        3 /tmp/RtmpIHNNlP/outputs/tempObj_year03.rds saveRDS
#&gt; 4     tempObj        4 /tmp/RtmpIHNNlP/outputs/tempObj_year04.rds saveRDS
#&gt; 5     tempObj        5 /tmp/RtmpIHNNlP/outputs/tempObj_year05.rds saveRDS
#&gt; 6     tempObj        6 /tmp/RtmpIHNNlP/outputs/tempObj_year06.rds saveRDS
#&gt; 7     tempObj        7 /tmp/RtmpIHNNlP/outputs/tempObj_year07.rds saveRDS
#&gt; 8     tempObj        8 /tmp/RtmpIHNNlP/outputs/tempObj_year08.rds saveRDS
#&gt; 9     tempObj        9 /tmp/RtmpIHNNlP/outputs/tempObj_year09.rds saveRDS
#&gt; 10    tempObj       10 /tmp/RtmpIHNNlP/outputs/tempObj_year10.rds saveRDS
#&gt;    package saved arguments
#&gt; 1     base  TRUE        NA
#&gt; 2     base  TRUE        NA
#&gt; 3     base  TRUE        NA
#&gt; 4     base  TRUE        NA
#&gt; 5     base  TRUE        NA
#&gt; 6     base  TRUE        NA
#&gt; 7     base  TRUE        NA
#&gt; 8     base  TRUE        NA
#&gt; 9     base  TRUE        NA
#&gt; 10    base  TRUE        NA</div><div class='input'>
<span class='co'># can do highly variable saving</span>
<span class='no'>tempObj2</span> <span class='kw'>&lt;-</span> <span class='fu'>paste</span>(<span class='st'>"val"</span>,<span class='fl'>1</span>:<span class='fl'>10</span>)
<span class='no'>df1</span> <span class='kw'>&lt;-</span> <span class='fu'>data.frame</span>(<span class='kw'>col1</span> <span class='kw'>=</span> <span class='no'>tempObj</span>, <span class='kw'>col2</span> <span class='kw'>=</span> <span class='no'>tempObj2</span>)
<span class='no'>sim</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='simInit.html'>simInit</a></span>(<span class='kw'>objects</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"tempObj"</span>, <span class='st'>"tempObj2"</span>, <span class='st'>"df1"</span>),
  <span class='kw'>paths</span><span class='kw'>=</span><span class='fu'>list</span>(<span class='kw'>outputPath</span> <span class='kw'>=</span> <span class='no'>tmpdir</span>))
<span class='fu'>outputs</span>(<span class='no'>sim</span>) <span class='kw'>=</span> <span class='fu'>data.frame</span>(
     <span class='kw'>objectName</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fu'>rep</span>(<span class='st'>"tempObj"</span>, <span class='fl'>2</span>), <span class='fu'>rep</span>(<span class='st'>"tempObj2"</span>, <span class='fl'>3</span>), <span class='st'>"df1"</span>),
     <span class='kw'>saveTime</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fu'>c</span>(<span class='fl'>1</span>,<span class='fl'>4</span>), <span class='fu'>c</span>(<span class='fl'>2</span>,<span class='fl'>6</span>,<span class='fl'>7</span>), <span class='fu'><a href='simList-accessors-times.html'>end</a></span>(<span class='no'>sim</span>)),
     <span class='kw'>fun</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fu'>rep</span>(<span class='st'>"saveRDS"</span>, <span class='fl'>5</span>), <span class='st'>"write.csv"</span>),
     <span class='kw'>package</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fu'>rep</span>(<span class='st'>"base"</span>, <span class='fl'>5</span>), <span class='st'>"utils"</span>),
     <span class='kw'>stringsAsFactors</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)
<span class='co'># since write.csv has a default of adding a column, x, with rownames, must add additional</span>
<span class='co'>#   argument for 6th row in data.frame (corresponding to the write.csv function)</span>
<span class='fu'>outputArgs</span>(<span class='no'>sim</span>)<span class='kw'>[[</span><span class='fl'>6</span>]] <span class='kw'>&lt;-</span> <span class='fu'>list</span>(<span class='kw'>row.names</span><span class='kw'>=</span><span class='fl'>FALSE</span>)
<span class='no'>sim</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='spades.html'>spades</a></span>(<span class='no'>sim</span>)</div><div class='output co'>#&gt; This is the current event, printed as it is happening:
#&gt; eventTime moduleName eventType eventPriority
#&gt; 0         checkpoint init      5            
#&gt; 0         save       init      5            
#&gt; 0         progress   init      5            
#&gt; 0         load       init      5            
#&gt; 1         save       spades    10           
#&gt; 2         save       later     10           
#&gt; 4         save       later     10           
#&gt; 6         save       later     10           
#&gt; 7         save       later     10           
#&gt; 10        save       later     10           </div><div class='input'><span class='fu'>outputs</span>(<span class='no'>sim</span>)</div><div class='output co'>#&gt;   objectName saveTime       fun package
#&gt; 1    tempObj        1   saveRDS    base
#&gt; 2    tempObj        4   saveRDS    base
#&gt; 3   tempObj2        2   saveRDS    base
#&gt; 4   tempObj2        6   saveRDS    base
#&gt; 5   tempObj2        7   saveRDS    base
#&gt; 6        df1       10 write.csv   utils
#&gt;                                          file saved arguments
#&gt; 1  /tmp/RtmpIHNNlP/outputs/tempObj_year01.rds  TRUE        NA
#&gt; 2  /tmp/RtmpIHNNlP/outputs/tempObj_year04.rds  TRUE        NA
#&gt; 3 /tmp/RtmpIHNNlP/outputs/tempObj2_year02.rds  TRUE        NA
#&gt; 4 /tmp/RtmpIHNNlP/outputs/tempObj2_year06.rds  TRUE        NA
#&gt; 5 /tmp/RtmpIHNNlP/outputs/tempObj2_year07.rds  TRUE        NA
#&gt; 6      /tmp/RtmpIHNNlP/outputs/df1_year10.csv  TRUE     FALSE</div><div class='input'>
<span class='co'># read one back in just to test it all worked as planned</span>
<span class='no'>newObj</span> <span class='kw'>&lt;-</span> <span class='fu'>read.csv</span>(<span class='fu'>dir</span>(<span class='no'>tmpdir</span>, <span class='kw'>pattern</span> <span class='kw'>=</span> <span class='st'>"year10.csv"</span>, <span class='kw'>full.name</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>))
<span class='no'>newObj</span></div><div class='output co'>#&gt;    col1   col2
#&gt; 1     1  val 1
#&gt; 2     2  val 2
#&gt; 3     3  val 3
#&gt; 4     4  val 4
#&gt; 5     5  val 5
#&gt; 6     6  val 6
#&gt; 7     7  val 7
#&gt; 8     8  val 8
#&gt; 9     9  val 9
#&gt; 10   10 val 10</div><div class='input'>
<span class='co'># using saving with SpaDES-aware methods</span>
<span class='co'># To see current ones SpaDES can do</span>
<span class='fu'><a href='loadFiles.html'>.saveFileExtensions</a></span>()</div><div class='output co'>#&gt;   exts         fun package
#&gt; 1  rds     saveRDS    base
#&gt; 4  grd writeRaster  raster
#&gt; 3  csv   write.csv   utils
#&gt; 2  txt write.table   utils</div><div class='input'>
<span class='fu'>library</span>(<span class='no'>raster</span>)
<span class='kw'>if</span> (<span class='fu'>require</span>(<span class='no'>rgdal</span>)) {
  <span class='no'>ras</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='http://www.rdocumentation.org/packages/raster/topics/raster'>raster</a></span>(<span class='kw'>ncol</span> <span class='kw'>=</span> <span class='fl'>4</span>, <span class='kw'>nrow</span> <span class='kw'>=</span> <span class='fl'>5</span>)
  <span class='no'>ras</span>[] <span class='kw'>&lt;-</span> <span class='fl'>1</span>:<span class='fl'>20</span>

  <span class='no'>sim</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='simInit.html'>simInit</a></span>(<span class='kw'>objects</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"ras"</span>), <span class='kw'>paths</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='kw'>outputPath</span> <span class='kw'>=</span> <span class='no'>tmpdir</span>))
  <span class='fu'>outputs</span>(<span class='no'>sim</span>) <span class='kw'>=</span> <span class='fu'>data.frame</span>(
    <span class='kw'>file</span> <span class='kw'>=</span> <span class='st'>"test"</span>,
    <span class='kw'>fun</span> <span class='kw'>=</span> <span class='st'>"writeRaster"</span>,
    <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"raster"</span>,
    <span class='kw'>objectName</span> <span class='kw'>=</span> <span class='st'>"ras"</span>,
    <span class='kw'>stringsAsFactors</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

  <span class='fu'>outputArgs</span>(<span class='no'>sim</span>)<span class='kw'>[[</span><span class='fl'>1</span>]] <span class='kw'>&lt;-</span> <span class='fu'>list</span>(<span class='kw'>format</span> <span class='kw'>=</span> <span class='st'>"GTiff"</span>) <span class='co'># see ?raster::writeFormats</span>
  <span class='no'>simOut</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='spades.html'>spades</a></span>(<span class='no'>sim</span>)
  <span class='fu'>outputs</span>(<span class='no'>simOut</span>)
  <span class='no'>newRas</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='http://www.rdocumentation.org/packages/raster/topics/raster'>raster</a></span>(<span class='fu'>dir</span>(<span class='no'>tmpdir</span>, <span class='kw'>full.name</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>pattern</span> <span class='kw'>=</span> <span class='st'>".tif"</span>))
  <span class='fu'>all.equal</span>(<span class='no'>newRas</span>, <span class='no'>ras</span>) <span class='co'># Should be TRUE</span>
}</div><div class='output co'>#&gt; This is the current event, printed as it is happening:
#&gt; eventTime moduleName eventType eventPriority
#&gt; 0         checkpoint init      5            
#&gt; 0         save       init      5            
#&gt; 0         progress   init      5            
#&gt; 0         load       init      5            
#&gt; 10        save       spades    10           </div><div class='output co'>#&gt; [1] TRUE</div><div class='input'><span class='co'># Clean up after</span>
<span class='fu'>unlink</span>(<span class='no'>tmpdir</span>, <span class='kw'>recursive</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#note">Note</a></li>

      <li><a href="#inputs-function-or-argument-in-siminit">inputs function or argument in <code>simInit</code></a></li>

      <li><a href="#-inputobjects-function-placed-inside-module"><code>.inputObjects</code> function placed inside module</a></li>

      <li><a href="#outputs-function-or-argument-in-siminit">outputs function or argument in <code>simInit</code></a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Alex M Chubaty, Eliot J B McIntire.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

