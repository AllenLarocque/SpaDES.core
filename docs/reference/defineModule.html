<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Define a new module. — defineModule • SpaDES.core</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Define a new module. — defineModule" />
<meta property="og:description" content="Specify a new module's metadata as well as object and package dependencies.
Packages are loaded during this call. Any or all of these can be missing, with missing
values set to defaults" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-58633549-6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-58633549-6');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">SpaDES.core</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.8</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/i-introduction.html">01 Introduction to `SpaDES`</a>
    </li>
    <li>
      <a href="../articles/ii-modules.html">02 Building `SpaDES` modules</a>
    </li>
    <li>
      <a href="../articles/iii-cache.html">03 Caching `SpaDES` simulations</a>
    </li>
    <li>
      <a href="../articles/iv-advanced.html">04 Advanced `SpaDES` use</a>
    </li>
    <li>
      <a href="../articles/v-automated-testing.html">05 Automated module testing</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/PredictiveEcology/SpaDES.core/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Define a new module.</h1>
    <small class="dont-index">Source: <a href='https://github.com/PredictiveEcology/SpaDES.core/blob/master/R/module-define.R'><code>R/module-define.R</code></a></small>
    <div class="hidden name"><code>defineModule.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Specify a new module's metadata as well as object and package dependencies.
Packages are loaded during this call. Any or all of these can be missing, with missing
values set to defaults</p>
    </div>

    <pre class="usage"><span class='fu'>defineModule</span><span class='op'>(</span><span class='va'>sim</span>, <span class='va'>x</span><span class='op'>)</span>

<span class='co'># S4 method for simList,list</span>
<span class='fu'>defineModule</span><span class='op'>(</span><span class='va'>sim</span>, <span class='va'>x</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>sim</th>
      <td><p>A <code>simList</code> object from which to extract element(s) or
in which to replace element(s).</p></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>A list with a number of named elements, referred to as the metadata. See details.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Updated <code>simList</code> object.</p>
    <h2 class="hasAnchor" id="required-metadata-elements"><a class="anchor" href="#required-metadata-elements"></a>Required metadata elements</h2>

    


<table class='table'>
<tr><td><code>name</code></td><td>Module name. Must match the filename (without the <code>.R</code> extension).
This is currently not parsed by SpaDES;
it is for human readers only.</td></tr>
<tr><td><code>description</code></td><td>Brief description of the module.
This is currently not parsed by SpaDES;
it is for human readers only.</td></tr>
<tr><td><code>keywords</code></td><td>Author-supplied keywords.
This is currently not parsed by SpaDES;
it is for human readers only.</td></tr>
<tr><td><code>childModules</code></td><td>If this contains any character vector, then it will
be treated as a parent module. If this is a parent module,
then only this list entry will be read. For normal,
i.e., 'child modules', this should be <code><a href='https://rdrr.io/r/base/character.html'>character(0)</a></code> or
<code>NA</code>.
If a character vector is provided, then these must be the
names of the modules located in the same file path as this
parent module that will be loaded during the <code>simInit</code>.</td></tr>
<tr><td><code>authors</code></td><td>Module author information (as a vector of <code><a href='https://rdrr.io/r/utils/person.html'>person</a></code>
objects. This is currently not parsed by SpaDES;
it is for human readers only.</td></tr>
<tr><td><code>version</code></td><td>Module version number (will be coerced to <code><a href='https://rdrr.io/r/base/numeric_version.html'>numeric_version</a></code>
if a character or numeric are supplied).
The module developer should update manually this with each change
that is made to the module. See <a href='https://semver.org/'>https://semver.org/</a>
for a widely accepted standard for version numbering.</td></tr>
<tr><td><code>spatialExtent</code></td><td>The spatial extent of the module supplied via
<code><a href='https://rdrr.io/pkg/raster/man/extent.html'>raster::extent</a></code>. This is currently unimplemented.
Once implemented, this should define what spatial region this
module is scientifically reasonable to be used in.</td></tr>
<tr><td><code>timeframe</code></td><td>Vector (length 2) of POSIXt dates specifying the temporal extent
of the module. Currently unimplemented.
Once implemented, this should define what time frame this
module is scientifically reasonable to be used for.</td></tr>
<tr><td><code>timeunit</code></td><td>Time scale of the module (e.g., "day", "year"). This
MUST be specified. It indicates what '1' unit of time
means for this module. <code>SpaDES</code> interprets this
and if modules have different <code>timeunit</code> values
then it will correctly schedule each module, using the
smallest (currently the default) timeunit as the
'model' timeunit in the <code>spades</code> call.</td></tr>
<tr><td><code>citation</code></td><td>List of character strings specifying module citation information.
Alternatively, a list of filenames of <code>.bib</code> or similar files.
This is currently not parsed by SpaDES;
it is for human readers only.</td></tr>
<tr><td><code>documentation</code></td><td>List of filenames referring to module documentation sources.
This is currently not parsed by SpaDES;
it is for human readers only.</td></tr>
<tr><td></td><td><code>reqdPkgs</code></td></tr>
<tr><td>List of R package names required by the module. These
packages will be loaded when <code>simInit</code> is called.
<code><a href='https://Require.predictiveecology.org/reference/Require.html'>Require</a></code> will be used internally
to load if available, and install if not available.
Because <code><a href='https://Require.predictiveecology.org/reference/Require.html'>Require</a></code> can also download from
GitHub.com, these packages can specify package names stored
on GitHub, e.g., <code>"PredictiveEcology/SpaDES.core@development"</code>.</td><td><code>parameters</code></td></tr>
<tr><td>A data.frame specifying the parameters used in the module.
Usually produced by <code>rbind</code>-ing the outputs of multiple
<code><a href='defineParameter.html'>defineParameter</a></code> calls. These parameters indicate
the default values that will be used unless a module user
overrides them with the <code>params</code> argument in the
<code><a href='simInit.html'>simInit</a></code> call. The minimum and maximum are
currently used by the <code>SpaDES.shiny::shine</code> function and the
<code>POM</code> function, and they should indicate the range
of values that are reasonable scientifically.</td><td><code>inputObjects</code></td></tr>
<tr><td>A <code>data.frame</code> specifying the data objects expected as
inputs to the module,
with columns <code>objectName</code> (class <code>character</code>),
<code>objectClass</code> (class <code>character</code>),
<code>sourceURL</code> (class <code>character</code>), and <code>other</code>
(currently spades does nothing with this column).
This data.frame identifies the objects that are expected,
but does not do any loading of that object into the simList.
The <code>sourceURL</code> gives the developer the opportunity
to identify the source of a data file that can be used
with the model. This URL will be
used if the user calls <code>downloadData</code> (or
<code><a href='downloadModule.html'>downloadModule(..., data = TRUE)</a></code>. If the raw data
must be modified, the developer can use create a
function called <code>.inputObjects</code> in their module. That
function will be run during the <code>simInit</code> call. The
developer should ensure that if the object is supplied
by the module user as an argument in the <code>simInit</code>, then
the <code>.inputObjects</code> should not be run, i.e., use an
<code>(is.null(sim$xxx)))</code>.</td><td><code>outputObjects</code></td></tr>
<tr><td>A <code>data.frame</code> specifying the data objects output by
the module, with columns identical to those in
<code>inputObjects</code>. Like <code>inputObjects</code> above,
this only identifies the objects that this module will output
into the <code>simList</code>.
The module developer must create the necessary functions
that will cause these objects to be put into the
<code>simList</code>.</td><td></td></tr>
</table>


    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>moduleDefaults</p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Alex Chubaty</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='co'>## a default version of the defineModule is created with a call to newModule</span>
  <span class='fu'><a href='newModule.html'>newModule</a></span><span class='op'>(</span><span class='st'>"test"</span>, path <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span><span class='op'>(</span><span class='op'>)</span>, open <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>

  <span class='co'>## view the resulting module file</span>
  <span class='kw'>if</span> <span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/interactive.html'>interactive</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/utils/file.edit.html'>file.edit</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='st'>"test"</span>, <span class='st'>"test.R"</span><span class='op'>)</span><span class='op'>)</span>
<span class='op'>}</span>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Alex M Chubaty, Eliot J B McIntire.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


